<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sellion 2026 | Возвраты</title>
    <style>
        body { font-family: sans-serif; background-color: #f8fafc; padding: 20px; }
        .container { width: 95%; margin: auto; }
        .card { background: white; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); overflow: hidden; }
        .table { width: 100%; border-collapse: collapse; }
        .table th { padding: 12px; background: #334155; color: white; text-align: left; }
        .table td { padding: 12px; border-bottom: 1px solid #f1f5f9; vertical-align: top; }
        .status-badge { padding: 4px 8px; border-radius: 12px; font-size: 11px; background: #fef3c7; color: #92400e; }
        .price { font-weight: bold; color: #ef4444; }
        .items-list { font-size: 13px; color: #475569; margin: 0; padding-left: 15px; }
        .btn-secondary { background: #64748b; color: white; padding: 8px 16px; border-radius: 5px; text-decoration: none; }
    </style>
</head>
<body>
<div class="container">
    <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>Журнал возвратов (от менеджеров)</h2>
        <a href="/admin" class="btn-secondary">В меню</a>
    </div>
    <div class="card">
        <table class="table">
            <thead>
            <tr>
                <th>Дата</th>
                <th>Магазин</th>
                <th>Причина</th>
                <th>Товары</th>
                <th>Сумма (֏)</th>
                <th>Менеджер</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="ret : ${returns}">
                <td th:text="${ret.id}"></td>
                <td th:text="${ret.returnDate}"></td>
                <td th:text="${ret.shopName}"></td>
                <td th:text="${ret.returnReason}"></td>
                <td>
                    <ul class="items-list">
                        <li th:each="item : ${ret.items}" th:text="${item.key + ' — ' + item.value + ' шт.'}"></li>
                    </ul>
                </td>
                <!-- Добавили Сумму и Менеджера -->
                <td class="text-danger fw-bold" th:text="${ret.totalAmount != null ? ret.totalAmount + ' ֏' : '0 ֏'}"></td>
                <td th:text="${ret.managerId}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
